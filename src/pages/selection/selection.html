<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Sélection</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  <form #f="ngForm" (ngSubmit)="submit()">
    <ion-list no-lines>

      <ion-item>
        <ion-label>Categories</ion-label>
        <ion-select (ionChange)="onChange()" [(ngModel)]="criteres.chosen_categories" multiple="true" name="chosen_categories" placeholder={{placeholder}}>
          <ion-option *ngFor="let c of categories">{{c}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Nombre de portes</ion-label>
        <ion-select (ionChange)="onChange()" [(ngModel)]="criteres.chosen_portes" multiple="true" name="chosen_portes" placeholder={{placeholder}}>
          <ion-option *ngFor="let p of portes">{{p}} portes</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Nombre de places</ion-label>
       <ion-select (ionChange)="onChange()" [(ngModel)]="criteres.chosen_places" multiple="true" name="chosen_places" placeholder={{placeholder}}>
          <ion-option *ngFor="let p of places">{{p}}{{p == places[places.length-1] ?' ou plus' : ''}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Type de boites</ion-label>
       <ion-select (ionChange)="onChange()" [(ngModel)]="criteres.chosen_boites" multiple="true" name="chosen_boites" placeholder={{placeholder}}>
          <ion-option *ngFor="let b of boites">{{b}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Type de carburant</ion-label>
       <ion-select (ionChange)="onChange()" [(ngModel)]="criteres.chosen_carburants" multiple="true" name="chosen_carburants" placeholder={{placeholder}}>
          <ion-option *ngFor="let c of carburants">{{c}}</ion-option>
        </ion-select>
      </ion-item>



      <ion-item>
        <ion-searchbar [(ngModel)]="criteres.chosen_marque" [showCancelButton]="true" name="chosen_marques" placeholder="Quelle marque recherchez-vous ?"></ion-searchbar>
      </ion-item>

      <ion-item>
        <ion-label>Origine</ion-label>
       <ion-select (ionChange)="onChange()" [(ngModel)]="criteres.chosen_origines" multiple="true" name="chosen_origines" placeholder={{placeholder}}>
          <ion-option *ngFor="let o of origines">{{o}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Ancienneté</ion-label>
       <ion-select (ionChange)="onChange()" [(ngModel)]="criteres.chosen_anciennetes" multiple="true" name="chosen_anciennetes" placeholder={{placeholder}}>
          <ion-option *ngFor="let a of anciennetes">{{a==anciennetes[0]?'Neuf':a+' année(s)'}}{{a == anciennetes[anciennetes.length-1]?' ou plus':''}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Consommation</ion-label>
       <ion-select (ionChange)="onChange()" [(ngModel)]="criteres.chosen_consommations" multiple="true" name="chosen_consommations" placeholder={{placeholder}}>
          <ion-option *ngFor="let c of consommations">{{'Moins de '+c+' L/100km'}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>RejetsCO2</ion-label>
       <ion-select (ionChange)="onChange()" [(ngModel)]="criteres.rejetsCO2" multiple="true" name="chosen_rejetsCO2" placeholder={{placeholder}}>
          <ion-option *ngFor="let r of rejetsCO2">{{'Moins de '+r+' g/L'}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-range  (ionChange)="onChange()" [dualKnobs]="true" [(ngModel)]="prix" name="prix" min="1000" max="30000" step="1000" snaps="true"></ion-range>
        <ion-label>Fourchette : {{prix.lower | currency:"EUR"}} - {{prix.upper | currency:"EUR"}}</ion-label>
      </ion-item>

      <ion-item>
        <button type="submit" ion-button>Rechercher</button>
      </ion-item>

      <ion-item>
        <ion-label>Nombre de voitures trouvées : {{numberOfResults}}</ion-label>
      </ion-item>
    </ion-list>
  </form>
</ion-content>
